!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("lodash"),require("prop-types")):"function"==typeof define&&define.amd?define("reactXarrow",["react","lodash","prop-types"],t):"object"==typeof exports?exports.reactXarrow=t(require("react"),require("lodash"),require("prop-types")):e.reactXarrow=t(e.react,e.lodash,e["prop-types"])}(this,(function(e,t,r){return function(){"use strict";var n={766:function(e,t,r){r.r(t),r.d(t,{bzFunction:function(){return n},buzzierMinSols:function(){return a}});var n=function(e,t,r,n){return function(a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*r+Math.pow(a,3)*n}},a=function(e,t,r,a){var o=n(e,t,r,a),i=-6*e+12*t-6*r,l=Math.pow(-6*e+12*t-6*r,2)-4*(3*t-3*e)*(-3*e+9*t-9*r+3*a),u=2*(-3*e+9*t-9*r+3*a);return[o((i+Math.sqrt(l))/u),o((i-Math.sqrt(l))/u)]}},587:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},l=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(297)),f=u(r(111)),c=r(825),d=u(r(648)),p=r(248),h=(console.log,function(e){var t,r=s.useRef({svgRef:s.useRef(null),lineRef:s.useRef(null),headRef:s.useRef(null),tailRef:s.useRef(null),lineDrawAnimRef:s.useRef(null),lineDashAnimRef:s.useRef(null),headOpacityAnimRef:s.useRef(null)}),a=r.current,o=a.svgRef,i=a.lineRef,u=a.headRef,d=(a.tailRef,a.lineDrawAnimRef),h=a.lineDashAnimRef,v=a.headOpacityAnimRef;s.useContext(c.XarrowContext);var m=f.default(e,r.current),y=m[0],b=y.labels,g=y.lineColor,x=y.headColor,w=y.tailColor,P=y.strokeWidth,_=y.showHead,S=y.showTail,O=y.dashness,E=y.headShape,M=y.tailShape,j=y.showXarrow,C=y.animateDrawing,L=y.zIndex,R=y.passProps,k=y.arrowBodyProps,D=y.arrowHeadProps,z=y.arrowTailProps,A=y.SVGcanvasProps,T=y.divContainerProps,N=y.divContainerStyle,B=y.SVGcanvasStyle,F=y._debug,X=y.shouldUpdatePosition;C=e.animateDrawing;var H=s.useState(!C),q=H[0],G=H[1],V=s.useState({})[1],W=function(){return V({})},I=s.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),U=I[0],Q=I[1];s.useLayoutEffect((function(){if(X.current){var e=p.getPosition(m,r);Q(e),X.current=!1}}));var J=U.x2-U.arrowHeadOffset.x,K=U.y2-U.arrowHeadOffset.y,Y=U.x1-U.arrowTailOffset.x,Z=U.y1-U.arrowTailOffset.y,$=O.strokeLen+O.nonStrokeLen,ee=1;O.animation<0&&(O.animation*=-1,ee=-1);var te,re,ne,ae,oe=0;return C&&0==q?("boolean"==typeof C&&(C=1),re=C+"s",te=U.lineLength,ae=U.lineLength,ne=1,C<0&&(ae=(t=[oe,ae])[0],oe=t[1],re=-1*C+"s")):(te=O.strokeLen+" "+O.nonStrokeLen,re=1/O.animation+"s",ae=$*ee,ne="indefinite",oe=0),s.useLayoutEffect((function(){i.current&&Q((function(e){var t,r;return n(n({},e),{lineLength:null!==(r=null===(t=i.current)||void 0===t?void 0:t.getTotalLength())&&void 0!==r?r:0})}))}),[i.current]),s.useEffect((function(){var e=function(){window.addEventListener("resize",W);var e=function(){var e,t;G(!0),null===(e=v.current)||void 0===e||e.beginElement(),null===(t=h.current)||void 0===t||t.beginElement()},t=function(){return u.current.style.opacity="0"};return d.current&&u.current&&(d.current.addEventListener("endEvent",e),d.current.addEventListener("beginEvent",t)),function(){window.removeEventListener("resize",W),d.current&&(d.current.removeEventListener("endEvent",e),u.current&&d.current.removeEventListener("beginEvent",t))}}();return function(){G(!1),e()}}),[j]),s.default.createElement("div",n({},T,{style:n({position:"absolute",zIndex:L},N)}),j?s.default.createElement(s.default.Fragment,null,s.default.createElement("svg",n({ref:o,width:U.cw,height:U.ch,style:n({position:"absolute",left:U.cx0,top:U.cy0,pointerEvents:"none",border:F?"1px dashed yellow":null},B),overflow:"auto"},A),s.default.createElement("path",n({ref:i,d:U.arrowPath,stroke:g,strokeDasharray:te,strokeWidth:P,fill:"transparent",pointerEvents:"visibleStroke"},R,k),s.default.createElement(s.default.Fragment,null,q?s.default.createElement(s.default.Fragment,null,O.animation?s.default.createElement("animate",{ref:h,attributeName:"stroke-dashoffset",values:$*ee+";0",dur:1/O.animation+"s",repeatCount:"indefinite"}):null):s.default.createElement(s.default.Fragment,null,C?s.default.createElement("animate",{ref:d,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:ae+";"+oe,dur:re,repeatCount:ne}):null))),S?s.default.createElement("g",n({fill:w,pointerEvents:"auto",transform:"translate("+Y+","+Z+") rotate("+U.tailOrient+") scale("+U.fTailSize+")"},R,z),M.svgElem):null,_?s.default.createElement("g",n({ref:u,fill:x,pointerEvents:"auto",transform:"translate("+J+","+K+") rotate("+U.headOrient+") scale("+U.fHeadSize+")",opacity:C&&!q?0:1},R,D),s.default.createElement("animate",{ref:v,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),E.svgElem):null,F?s.default.createElement(s.default.Fragment,null,s.default.createElement("circle",{r:"5",cx:U.cpx1,cy:U.cpy1,fill:"green"}),s.default.createElement("circle",{r:"5",cx:U.cpx2,cy:U.cpy2,fill:"blue"}),s.default.createElement("rect",{x:U.excLeft,y:U.excUp,width:U.absDx,height:U.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),b.start?s.default.createElement("div",{style:{transform:U.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:U.cx0+U.labelStartPos.x,top:U.cy0+U.labelStartPos.y-P-5}},b.start):null,b.middle?s.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:U.cx0+U.labelMiddlePos.x,top:U.cy0+U.labelMiddlePos.y}},b.middle):null,b.end?s.default.createElement("div",{style:{transform:U.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:U.cx0+U.labelEndPos.x,top:U.cy0+U.labelEndPos.y+P+5}},b.end):null,F?s.default.createElement(s.default.Fragment,null,l(l([],U.startPoints),U.endPoints).map((function(e,t){return s.default.createElement("div",{key:t,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:e.x-U.mainDivPos.x,top:e.y-U.mainDivPos.y}})}))):null):null)});h.propTypes=d.default,t.default=h},957:function(e,t,r){e=r.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.calcAnchors=void 0,t.calcAnchors=function(e,t){return e.map((function(e){var r,n,a=(r=t.right-t.x,n=t.bottom-t.y,{middle:{x:.5*r,y:.5*n},left:{x:0,y:.5*n},right:{x:r,y:.5*n},top:{x:.5*r,y:0},bottom:{x:.5*r,y:n}})[e.position],o=a.x,i=a.y;return{x:t.x+o+e.offset.x,y:t.y+i+e.offset.y,anchor:e}}))},r.c[r.s]},648:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(229)),o=r(443),i=a.default.oneOf(o.cAnchorEdge),l=a.default.exact({position:i.isRequired,offset:a.default.exact({x:a.default.number,y:a.default.number}).isRequired}),u=a.default.oneOfType([i,l]),s=a.default.oneOfType([u,a.default.arrayOf(u)]),f=a.default.oneOfType([a.default.string,a.default.exact({current:a.default.any})]),c=a.default.oneOfType([a.default.element,a.default.string]),d=a.default.exact({start:c,middle:c,end:c}),p=a.default.oneOf(Object.keys(o.arrowShapes)),h=a.default.any,v=a.default.oneOfType([p,a.default.exact({svgElem:h,offsetForward:a.default.number}).isRequired]),m={start:f.isRequired,end:f.isRequired,startAnchor:s,endAnchor:s,labels:a.default.oneOfType([c,d]),color:a.default.string,lineColor:a.default.string,showHead:a.default.bool,headColor:a.default.string,headSize:a.default.number,tailSize:a.default.number,tailColor:a.default.string,strokeWidth:a.default.number,showTail:a.default.bool,path:a.default.oneOf(o.cPaths),showXarrow:a.default.bool,curveness:a.default.number,gridBreak:a.default.string,gridRadius:a.default.number,dashness:a.default.oneOfType([a.default.bool,a.default.object]),headShape:v,tailShape:v,animateDrawing:a.default.oneOfType([a.default.bool,a.default.number]),zIndex:a.default.number,passProps:a.default.object,arrowBodyProps:a.default.object,arrowHeadProps:a.default.object,arrowTailProps:a.default.object,SVGcanvasProps:a.default.object,divContainerProps:a.default.object,_extendSVGcanvas:a.default.number,_debug:a.default.bool,_cpx1Offset:a.default.number,_cpy1Offset:a.default.number,_cpx2Offset:a.default.number,_cpy2Offset:a.default.number};t.default=m},111:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(297)),s=r(790),f=l(r(804)),c=r(443),d=function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return"string"==typeof e?{position:e}:e}));0==(t=t.filter((function(e){return c.cAnchorEdge.includes(e.position)}))).length&&(t=[{position:"auto"}]);var r=t.filter((function(e){return"auto"===e.position}));return r.length>0&&(t=t.filter((function(e){return"auto"!==e.position}))).push.apply(t,r.flatMap((function(e){return["left","right","top","bottom"].map((function(t){return n(n({},e),{position:t})}))}))),t.map((function(e){if("object"==typeof e){var t=e;return t.position||(t.position="auto"),t.offset||(t.offset={x:0,y:0}),t.offset.y||(t.offset.y=0),t.offset.x||(t.offset.x=0),t}return e}))},p=function(e){return"string"==typeof e&&(e in c.arrowShapes?e=c.arrowShapes[e]:(console.warn("'"+e+"' is not supported arrow shape. the supported arrow shapes is one of "+c.cArrowShapes+".\n           reverting to default shape."),e=c.arrowShapes.arrow1)),void 0===(null==(e=e)?void 0:e.offsetForward)&&(e.offsetForward=.25),void 0===(null==e?void 0:e.svgElem)&&(e.svgElem="path"),e},h=function(e,t){return t&&(t.current=!0),e},v=function(e){return e},m=function(e,t,r){return h(e,r)},y=function(e,t,r){return h(Number(e),r)},b={start:function(e){return s.getElementByPropGiven(e)},end:function(e){return s.getElementByPropGiven(e)},startAnchor:function(e,t,r){return h(d(e),r)},endAnchor:function(e,t,r){return h(d(e),r)},labels:function(e){return function(e){var t={start:null,middle:null,end:null};if(e)if("string"==typeof e||u.default.isValidElement(e))t.middle=e;else for(var r in e)t[r]=e[r];return t}(e)},color:v,lineColor:function(e,t){return e||t.color},headColor:function(e,t){return e||t.color},tailColor:function(e,t){return e||t.color},strokeWidth:y,showHead:m,headSize:y,showTail:m,tailSize:y,path:m,curveness:y,gridBreak:function(e,t,r){return h((n=e,(a=s.xStr2absRelative(n))||(a={relative:.5,abs:0}),a),r);var n,a},gridRadius:y,dashness:function(e,t){return n=t,o=0,i=0,"object"==typeof(r=e)?(o=r.strokeLen||2*n.strokeWidth,i=r.strokeLen?r.nonStrokeLen:n.strokeWidth,a=r.animation?r.animation:null):"boolean"==typeof r&&r&&(o=2*n.strokeWidth,i=n.strokeWidth,a=null),{strokeLen:o,nonStrokeLen:i,animation:a,animDirection:1};var r,n,a,o,i},headShape:function(e){return p(e)},tailShape:function(e){return p(e)},showXarrow:v,animateDrawing:v,zIndex:function(e){return Number(e)},passProps:v,arrowBodyProps:m,arrowHeadProps:m,arrowTailProps:m,SVGcanvasProps:m,divContainerProps:m,divContainerStyle:m,SVGcanvasStyle:m,_extendSVGcanvas:m,_debug:m,_cpx1Offset:m,_cpy1Offset:m,_cpx2Offset:m,_cpy2Offset:m},g={};for(var x in b)g[x]=[x];for(var w=0,P=["lineColor","headColor","tailColor"];w<P.length;w++)g[x=P[w]].push("color");var _={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",gridRadius:8,dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},S={};S=function(e,t){for(var r,n=0,a=Object.entries(e);n<a.length;n++){var o=a[n],i=o[0],l=o[1];t[i]=null===(r=null==b?void 0:b[i])||void 0===r?void 0:r.call(b,l,t)}return t}(_,S);var O={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function E(e){var t,r,n=u.useRef();return t=e,r=n.current,f.default.isEqual(t,r)||(n.current=e),n.current}function M(e,t){u.useLayoutEffect(e,t.map(E))}t.default=function(e,t){var r=u.useState(S),a=r[0],o=r[1],i=u.useRef(!1);a.shouldUpdatePosition=i;var l=n(n({},_),e),f=function(t){u.useLayoutEffect((function(){var e;a[t]=null===(e=null==b?void 0:b[t])||void 0===e?void 0:e.call(b,l[t],a,i),o(n({},a))}),g[t].map((function(t){return e[t]})))};for(var c in _)f(c);var d=u.useState(O),p=d[0],h=d[1],v=s.getElemPos(a.start);M((function(){p.startPos=v,i.current=!0,h(n({},p))}),[v]);var m=s.getElemPos(a.end);return M((function(){p.endPos=m,i.current=!0,h(n({},p))}),[m]),u.useLayoutEffect((function(){i.current=!0,h(n({},p))}),[a.headShape.svgElem,a.tailShape.svgElem]),[a,p]}},248:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=void 0;var a=r(957),o=r(790),i=n(r(804)),l=r(443),u=r(766);t.getPosition=function(e,t){var r,n,s,f,c=e[0],d=e[1],p=c.startAnchor,h=c.endAnchor,v=c.strokeWidth,m=c.showHead,y=c.headSize,b=c.showTail,g=c.tailSize,x=c.path,w=c.curveness,P=c.gridBreak,_=c.gridRadius,S=c.headShape,O=c.tailShape,E=c._extendSVGcanvas,M=c._cpx1Offset,j=c._cpy1Offset,C=c._cpx2Offset,L=c._cpy2Offset,R=d.startPos,k=d.endPos,D=t.current,z=D.svgRef,A=D.lineRef,T=0,N=0,B=a.calcAnchors(p,R),F=a.calcAnchors(h,k),X=o.getShortestLine(B,F),H=X.chosenStart,q=X.chosenEnd,G=H.anchor.position,V=q.anchor.position,W=i.default.pick(H,["x","y"]),I=i.default.pick(q,["x","y"]),U=o.getSvgPos(z),Q=Math.min(W.x,I.x)-U.x,J=Math.min(W.y,I.y)-U.y,K=I.x-W.x,Y=I.y-W.y,Z=Math.abs(I.x-W.x),$=Math.abs(I.y-W.y),ee=K>0?1:-1,te=Y>0?1:-1,re=[S.offsetForward,O.offsetForward],ne=re[0],ae=re[1],oe=y*v,ie=g*v,le=0,ue=0,se=0,fe=0,ce=oe*ne,de=ie*ae,pe=Number(w);_=Number(_),l.cPaths.includes(x)||(x="smooth"),"straight"===x&&(pe=0,x="smooth");var he=v+v*(y>g?y:g)/2,ve=he,me=he,ye=he,be=he;me+=Number(E),ve+=Number(E),ye+=Number(E),be+=Number(E);var ge=0,xe=Z,we=0,Pe=$;if(K<0&&(ge=(r=[xe,ge])[0],xe=r[1]),Y<0&&(we=(n=[Pe,we])[0],Pe=n[1]),0===pe){var _e=Math.atan($/Z);m&&(xe-=oe*(1-ne)*ee*Math.cos(_e),Pe-=oe*(1-ne)*te*Math.sin(_e),_e*=te,ee<0&&(_e=(Math.PI-_e*ee)*ee),le=Math.cos(_e)*ce-Math.sin(_e)*oe/2,ue=Math.cos(_e)*oe/2+Math.sin(_e)*ce,T=180*_e/Math.PI);var Se=Math.atan($/Z);b&&(ge+=ie*(1-ae)*ee*Math.cos(Se),we+=ie*(1-ae)*te*Math.sin(Se),Se*=-te,ee>0&&(Se=(Math.PI-Se*ee)*ee),se=Math.cos(Se)*de-Math.sin(Se)*ie/2,fe=Math.cos(Se)*ie/2+Math.sin(Se)*de,N=180*Se/Math.PI)}else"middle"===V&&(V=Z>$?ee?"left":"right":te?"top":"bottom"),m&&(["left","right"].includes(V)?(le+=ce*ee,xe-=oe*(1-ne)*ee,ue+=oe*ee/2,"left"===V?(T=0,ee<0&&(T+=180)):(T=180,ee>0&&(T+=180))):["top","bottom"].includes(V)&&(le+=oe*-te/2,Pe-=oe*te-(ue+=ce*te),"top"===V?(T=270,te>0&&(T+=180)):(T=90,te<0&&(T+=180))));b&&0!==pe&&(["left","right"].includes(G)?(ge+=ie*ee+(se+=de*-ee),fe+=-ie*ee/2,"left"===G?(N=180,ee<0&&(N+=180)):(N=0,ee>0&&(N+=180))):["top","bottom"].includes(G)&&(we+=ie*te+(fe+=de*-te),se+=ie*te/2,"top"===G?(N=90,te>0&&(N+=180)):(N=270,te<0&&(N+=180))));var Oe={x:le,y:ue},Ee={x:se,y:fe},Me=ge,je=we,Ce=xe,Le=Pe,Re={};"smooth"===x?Re={hh:function(){Me+=Z*pe*ee,Ce-=Z*pe*ee},vv:function(){je+=$*pe*te,Le-=$*pe*te},hv:function(){Me+=Z*pe*ee,Le-=$*pe*te},vh:function(){je+=$*pe*te,Ce-=Z*pe*ee}}:"grid"===x&&(Re={hh:function(){Me+=(Z*P.relative+P.abs)*ee,Ce-=(Z*(1-P.relative)-P.abs)*ee,m&&(Me-=oe*(1-ne)/2*ee,Ce+=oe*(1-ne)/2*ee),b&&(Me-=ie*(1-ae)/2*ee,Ce+=ie*(1-ae)/2*ee)},vv:function(){je+=($*P.relative+P.abs)*te,Le-=($*(1-P.relative)-P.abs)*te,m&&(je-=oe*(1-ne)/2*te,Le+=oe*(1-ne)/2*te),b&&(je-=ie*(1-ae)/2*te,Le+=ie*(1-ae)/2*te)},hv:function(){Me=xe},vh:function(){je=Pe}});var ke="";["left","right"].includes(G)?ke+="h":["bottom","top"].includes(G)?ke+="v":"middle"===G&&(ke+="m"),["left","right"].includes(V)?ke+="h":["bottom","top"].includes(V)?ke+="v":"middle"===V&&(ke+="m"),Re[ke=Z>$?ke.replace(/m/g,"h"):ke.replace(/m/g,"v")](),Me+=M,je+=j,Ce+=C,Le+=L;var De=u.buzzierMinSols(ge,Me,Ce,xe),ze=De[0],Ae=De[1],Te=u.buzzierMinSols(we,je,Le,Pe),Ne=Te[0],Be=Te[1];ze<0&&(me+=-ze),Ae>Z&&(ve+=Ae-Z),Ne<0&&(ye+=-Ne),Be>$&&(be+=Be-$),"grid"===x&&(me+=he,ve+=he,ye+=he,be+=he),ge+=me,xe+=me,we+=ye,Pe+=ye,Me+=me,Ce+=me,je+=ye,Le+=ye;var Fe=Z+me+ve,Xe=$+ye+be;Q-=me,J-=ye;var He,qe=u.bzFunction(ge,Me,Ce,xe),Ge=u.bzFunction(we,je,Le,Pe),Ve={x:qe(.01),y:Ge(.01)},We={x:qe(.5),y:Ge(.5)},Ie={x:qe(.99),y:Ge(.99)};if("grid"===x)if(_){var Ue=Math.abs(we-Pe),Qe=Math.abs(ge-xe),Je=2*v;(Ue>=2*Je&&Ue<2*_||Qe>=2*Je&&Qe<2*_)&&(_=Math.min(Ue,Qe)),He=Ue<2*_||Qe<2*_?"M "+ge+" "+we+" L  "+Me+" "+je+" L "+Ce+" "+Le+" "+xe+" "+Pe:"M "+ge+" "+we+" \n                  L "+(xe>ge?Me:Me+_)+" "+je+" \n                  a"+_+","+_+" 0 0 "+(Pe<we&&xe>ge||Pe>we&&xe<ge?"0":"1")+" "+(xe>ge?_:-_)+","+(Pe<we?-_:_)+"\n                  L "+(xe>ge?Ce+_:Ce)+" "+(Pe<we?Le+_:Le-_)+"\n                  a"+_+","+_+" 0 0 "+(Pe<we&&xe>ge||Pe>we&&xe<ge?"1":"0")+" "+(xe>ge?_:-_)+","+(Pe<we?-_:_)+"\n                  L  "+xe+" "+Pe}else He="M "+ge+" "+we+" L  "+Me+" "+je+" L "+Ce+" "+Le+" "+xe+" "+Pe;else"smooth"===x&&(He="M "+ge+" "+we+" C "+Me+" "+je+", "+Ce+" "+Le+", "+xe+" "+Pe);return{cx0:Q,cy0:J,x1:ge,x2:xe,y1:we,y2:Pe,cw:Fe,ch:Xe,cpx1:Me,cpy1:je,cpx2:Ce,cpy2:Le,dx:K,dy:Y,absDx:Z,absDy:$,headOrient:T,tailOrient:N,labelStartPos:Ve,labelMiddlePos:We,labelEndPos:Ie,excLeft:me,excRight:ve,excUp:ye,excDown:be,headOffset:ce,arrowHeadOffset:Oe,arrowTailOffset:Ee,startPoints:B,endPoints:F,mainDivPos:U,xSign:ee,ySign:te,lineLength:null!==(f=null===(s=A.current)||void 0===s?void 0:s.getTotalLength())&&void 0!==f?f:0,fHeadSize:oe,fTailSize:ie,arrowPath:He}}},790:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSvgPos=t.getElemPos=t.getShortestLine=t.xStr2absRelative=t.factorDpathStr=t.getElementByPropGiven=void 0,t.getElementByPropGiven=function(e){return"string"==typeof e?document.getElementById(e):null==e?void 0:e.current},t.factorDpathStr=function(e,t){var r=e.split(/(\d+(?:\.\d+)?)/);return(r=r.map((function(e){return Number(e)?(Number(e)*t).toString():e}))).join("")},t.xStr2absRelative=function(e){if("string"!=typeof e)return{abs:0,relative:.5};var t=e.split("%"),r=0,n=0;if(1==t.length){var a=parseFloat(t[0]);if(!isNaN(a))return{abs:r=a,relative:0}}else if(2==t.length){var o=[parseFloat(t[0]),parseFloat(t[1])],i=o[0],l=o[1];if(isNaN(i)||(n=i/100),isNaN(l)||(r=l),!isNaN(i)||!isNaN(l))return{abs:r,relative:n}}},t.getShortestLine=function(e,t){var r,n=1/0,a=1/0;return e.forEach((function(e){t.forEach((function(t){var o,i;o=e,i=t,(a=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)))<n&&(n=a,r={chosenStart:e,chosenEnd:t})}))})),r},t.getElemPos=function(e){if(!e)return{x:0,y:0,right:0,bottom:0};var t=e.getBoundingClientRect();return{x:t.left,y:t.top,right:t.right,bottom:t.bottom}},t.getSvgPos=function(e){if(!e.current)return{x:0,y:0};var t=e.current.getBoundingClientRect(),r=t.left,n=t.top,a=getComputedStyle(e.current);return{x:r-Number(a.left.slice(0,-2)),y:n-Number(a.top.slice(0,-2))}}},825:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.XarrowContext=t.XelemContext=void 0;var i=o(r(297));t.XelemContext=i.default.createContext(null),t.XarrowContext=i.default.createContext(null);var l={},u=0,s=(console.log,function(e){var r=e.children,n=e.instanceCount,a=i.useState({})[1],o=function(){return a({})};return i.useEffect((function(){n.current=u,l[n.current]=o}),[]),i.default.createElement(t.XarrowContext.Provider,{value:o},r)}),f=function(e){var r=e.children,n=e.instanceCount;return i.default.createElement(t.XelemContext.Provider,{value:l[n.current]},r)};t.default=function(e){var t=e.children,r=i.useRef(u),n=i.useState({})[1];return i.useEffect((function(){return u++,n({}),function(){delete l[r.current]}}),[]),i.default.createElement(f,{instanceCount:r},i.default.createElement(s,{instanceCount:r},t))}},443:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cArrowShapes=t.arrowShapes=t.cSvgElems=t.cPaths=t.cAnchorEdge=void 0;var a=n(r(297));t.cAnchorEdge=["middle","left","right","top","bottom","auto"],t.cPaths=["smooth","grid","straight"],t.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],t.arrowShapes={arrow1:{svgElem:a.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:a.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:a.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},t.cArrowShapes=Object.keys(t.arrowShapes)},379:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useXarrow=t.Xwrapper=t.default=void 0;var i=r(587);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(i).default}}),a(r(862),t),a(r(443),t);var l=r(825);Object.defineProperty(t,"Xwrapper",{enumerable:!0,get:function(){return o(l).default}});var u=r(449);Object.defineProperty(t,"useXarrow",{enumerable:!0,get:function(){return o(u).default}})},862:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},449:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(297),a=r(825);t.default=function(){var e=n.useState({})[1],t=n.useContext(a.XelemContext);return t||(t=function(){}),n.useLayoutEffect((function(){t()})),function(){return e({})}}},804:function(e){e.exports=t},229:function(e){e.exports=r},297:function(t){t.exports=e}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}return o.c=a,o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o(o.s=379)}()}));