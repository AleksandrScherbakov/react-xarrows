!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("lodash"),require("prop-types")):"function"==typeof define&&define.amd?define("reactXarrow",["react","lodash","prop-types"],t):"object"==typeof exports?exports.reactXarrow=t(require("react"),require("lodash"),require("prop-types")):e.reactXarrow=t(e.react,e.lodash,e["prop-types"])}(this,(function(e,t,n){return function(){"use strict";var r={766:function(e,t,n){n.r(t),n.d(t,{bzFunction:function(){return r},buzzierMinSols:function(){return a}});var r=function(e,t,n,r){return function(a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*n+Math.pow(a,3)*r}},a=function(e,t,n,a){var o=r(e,t,n,a),i=-6*e+12*t-6*n,l=Math.pow(-6*e+12*t-6*n,2)-4*(3*t-3*e)*(-3*e+9*t-9*n+3*a),u=2*(-3*e+9*t-9*n+3*a);return[o((i+Math.sqrt(l))/u),o((i-Math.sqrt(l))/u)]}},587:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},l=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(297)),f=u(n(111)),c=n(825),d=u(n(648)),h=n(248),p=(console.log,function(e){var t,n=r({},e);"oo"===n.relationType?(n.startAnchor="right",n.endAnchor="right"):"hh"===n.relationType?(n.startAnchor="left",n.endAnchor="left"):("ho"===n.relationType||"oh"===n.relationType)&&(n.startAnchor="right",n.endAnchor="left");var a=s.useRef({svgRef:s.useRef(null),lineRef:s.useRef(null),headRef:s.useRef(null),tailRef:s.useRef(null),lineDrawAnimRef:s.useRef(null),lineDashAnimRef:s.useRef(null),headOpacityAnimRef:s.useRef(null)}),o=a.current,i=o.svgRef,u=o.lineRef,d=o.headRef,p=(o.tailRef,o.lineDrawAnimRef),v=o.lineDashAnimRef,y=o.headOpacityAnimRef;s.useContext(c.XarrowContext);var m=f.default(n,a.current),b=m[0],g=b.labels,x=b.lineColor,w=b.headColor,P=b.tailColor,_=b.strokeWidth,S=b.showHead,O=b.showTail,E=b.dashness,M=b.headShape,j=b.tailShape,L=b.showXarrow,C=b.animateDrawing,R=b.zIndex,k=b.passProps,A=b.arrowBodyProps,T=b.arrowHeadProps,D=b.arrowTailProps,z=b.SVGcanvasProps,N=b.divContainerProps,B=b.divContainerStyle,F=b.SVGcanvasStyle,X=b._debug,H=b.shouldUpdatePosition;C=n.animateDrawing;var q=s.useState(!C),G=q[0],V=q[1],W=s.useState({})[1],I=function(){return W({})},U=s.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),Q=U[0],J=U[1];s.useLayoutEffect((function(){if(H.current){var e=h.getPosition(m,a);J(e),H.current=!1}}));var K=Q.x2-Q.arrowHeadOffset.x,Y=Q.y2-Q.arrowHeadOffset.y,Z=Q.x1-Q.arrowTailOffset.x,$=Q.y1-Q.arrowTailOffset.y,ee=E.strokeLen+E.nonStrokeLen,te=1;E.animation<0&&(E.animation*=-1,te=-1);var ne,re,ae,oe,ie=0;return C&&0==G?("boolean"==typeof C&&(C=1),re=C+"s",ne=Q.lineLength,oe=Q.lineLength,ae=1,C<0&&(oe=(t=[ie,oe])[0],ie=t[1],re=-1*C+"s")):(ne=E.strokeLen+" "+E.nonStrokeLen,re=1/E.animation+"s",oe=ee*te,ae="indefinite",ie=0),s.useLayoutEffect((function(){u.current&&J((function(e){var t,n;return r(r({},e),{lineLength:null!==(n=null===(t=u.current)||void 0===t?void 0:t.getTotalLength())&&void 0!==n?n:0})}))}),[u.current]),s.useEffect((function(){var e=function(){window.addEventListener("resize",I);var e=function(){var e,t;V(!0),null===(e=y.current)||void 0===e||e.beginElement(),null===(t=v.current)||void 0===t||t.beginElement()},t=function(){return d.current.style.opacity="0"};return p.current&&d.current&&(p.current.addEventListener("endEvent",e),p.current.addEventListener("beginEvent",t)),function(){window.removeEventListener("resize",I),p.current&&(p.current.removeEventListener("endEvent",e),d.current&&p.current.removeEventListener("beginEvent",t))}}();return function(){V(!1),e()}}),[L]),s.default.createElement("div",r({},N,{style:r({position:"absolute",zIndex:R},B)}),L?s.default.createElement(s.default.Fragment,null,s.default.createElement("svg",r({ref:i,width:Q.cw,height:Q.ch,style:r({position:"absolute",left:Q.cx0,top:Q.cy0,pointerEvents:"none",border:X?"1px dashed yellow":null},F),overflow:"auto"},z),s.default.createElement("path",r({ref:u,d:Q.arrowPath,stroke:x,strokeDasharray:ne,strokeWidth:_,fill:"transparent",pointerEvents:"visibleStroke"},k,A),s.default.createElement(s.default.Fragment,null,G?s.default.createElement(s.default.Fragment,null,E.animation?s.default.createElement("animate",{ref:v,attributeName:"stroke-dashoffset",values:ee*te+";0",dur:1/E.animation+"s",repeatCount:"indefinite"}):null):s.default.createElement(s.default.Fragment,null,C?s.default.createElement("animate",{ref:p,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:oe+";"+ie,dur:re,repeatCount:ae}):null))),O?s.default.createElement("g",r({fill:P,pointerEvents:"auto",transform:"translate("+Z+","+$+") rotate("+Q.tailOrient+") scale("+Q.fTailSize+")"},k,D),j.svgElem):null,S?s.default.createElement("g",r({ref:d,fill:w,pointerEvents:"auto",transform:"translate("+K+","+Y+") rotate("+Q.headOrient+") scale("+Q.fHeadSize+")",opacity:C&&!G?0:1},k,T),s.default.createElement("animate",{ref:y,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),M.svgElem):null,X?s.default.createElement(s.default.Fragment,null,s.default.createElement("circle",{r:"5",cx:Q.cpx1,cy:Q.cpy1,fill:"green"}),s.default.createElement("circle",{r:"5",cx:Q.cpx2,cy:Q.cpy2,fill:"blue"}),s.default.createElement("rect",{x:Q.excLeft,y:Q.excUp,width:Q.absDx,height:Q.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),g.start?s.default.createElement("div",{style:{transform:Q.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Q.cx0+Q.labelStartPos.x,top:Q.cy0+Q.labelStartPos.y-_-5}},g.start):null,g.middle?s.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:Q.cx0+Q.labelMiddlePos.x,top:Q.cy0+Q.labelMiddlePos.y}},g.middle):null,g.end?s.default.createElement("div",{style:{transform:Q.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Q.cx0+Q.labelEndPos.x,top:Q.cy0+Q.labelEndPos.y+_+5}},g.end):null,X?s.default.createElement(s.default.Fragment,null,l(l([],Q.startPoints),Q.endPoints).map((function(e,t){return s.default.createElement("div",{key:t,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:e.x-Q.mainDivPos.x,top:e.y-Q.mainDivPos.y}})}))):null):null)});p.propTypes=d.default,t.default=p},957:function(e,t,n){e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.calcAnchors=void 0,t.calcAnchors=function(e,t){return e.map((function(e){var n,r,a=(n=t.right-t.x,r=t.bottom-t.y,{middle:{x:.5*n,y:.5*r},left:{x:0,y:.5*r},right:{x:n,y:.5*r},top:{x:.5*n,y:0},bottom:{x:.5*n,y:r}})[e.position],o=a.x,i=a.y;return{x:t.x+o+e.offset.x,y:t.y+i+e.offset.y,anchor:e}}))},n.c[n.s]},648:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(229)),o=n(443),i=a.default.oneOf(o.cAnchorEdge),l=a.default.exact({position:i.isRequired,offset:a.default.exact({x:a.default.number,y:a.default.number}).isRequired}),u=a.default.oneOfType([i,l]),s=a.default.oneOfType([u,a.default.arrayOf(u)]),f=a.default.oneOfType([a.default.string,a.default.exact({current:a.default.any})]),c=a.default.oneOfType([a.default.element,a.default.string]),d=a.default.exact({start:c,middle:c,end:c}),h=a.default.oneOf(Object.keys(o.arrowShapes)),p=a.default.any,v=a.default.oneOfType([h,a.default.exact({svgElem:p,offsetForward:a.default.number}).isRequired]),y={start:f.isRequired,end:f.isRequired,startAnchor:s,endAnchor:s,labels:a.default.oneOfType([c,d]),color:a.default.string,lineColor:a.default.string,showHead:a.default.bool,headColor:a.default.string,headSize:a.default.number,tailSize:a.default.number,tailColor:a.default.string,strokeWidth:a.default.number,showTail:a.default.bool,path:a.default.oneOf(o.cPaths),showXarrow:a.default.bool,curveness:a.default.number,gridBreak:a.default.string,gridRadius:a.default.number,dashness:a.default.oneOfType([a.default.bool,a.default.object]),headShape:v,tailShape:v,animateDrawing:a.default.oneOfType([a.default.bool,a.default.number]),zIndex:a.default.number,passProps:a.default.object,arrowBodyProps:a.default.object,arrowHeadProps:a.default.object,arrowTailProps:a.default.object,SVGcanvasProps:a.default.object,divContainerProps:a.default.object,_extendSVGcanvas:a.default.number,_debug:a.default.bool,_cpx1Offset:a.default.number,_cpy1Offset:a.default.number,_cpx2Offset:a.default.number,_cpy2Offset:a.default.number};t.default=y},111:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(297)),s=n(790),f=l(n(804)),c=n(443),d=function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return"string"==typeof e?{position:e}:e}));0==(t=t.filter((function(e){return c.cAnchorEdge.includes(e.position)}))).length&&(t=[{position:"auto"}]);var n=t.filter((function(e){return"auto"===e.position}));return n.length>0&&(t=t.filter((function(e){return"auto"!==e.position}))).push.apply(t,n.flatMap((function(e){return["left","right","top","bottom"].map((function(t){return r(r({},e),{position:t})}))}))),t.map((function(e){if("object"==typeof e){var t=e;return t.position||(t.position="auto"),t.offset||(t.offset={x:0,y:0}),t.offset.y||(t.offset.y=0),t.offset.x||(t.offset.x=0),t}return e}))},h=function(e){return"string"==typeof e&&(e in c.arrowShapes?e=c.arrowShapes[e]:(console.warn("'"+e+"' is not supported arrow shape. the supported arrow shapes is one of "+c.cArrowShapes+".\n           reverting to default shape."),e=c.arrowShapes.arrow1)),void 0===(null==(e=e)?void 0:e.offsetForward)&&(e.offsetForward=.25),void 0===(null==e?void 0:e.svgElem)&&(e.svgElem="path"),e},p=function(e,t){return t&&(t.current=!0),e},v=function(e){return e},y=function(e,t,n){return p(e,n)},m=function(e,t,n){return p(Number(e),n)},b={start:function(e){return s.getElementByPropGiven(e)},end:function(e){return s.getElementByPropGiven(e)},startAnchor:function(e,t,n){return p(d(e),n)},endAnchor:function(e,t,n){return p(d(e),n)},labels:function(e){return function(e){var t={start:null,middle:null,end:null};if(e)if("string"==typeof e||u.default.isValidElement(e))t.middle=e;else for(var n in e)t[n]=e[n];return t}(e)},color:v,lineColor:function(e,t){return e||t.color},headColor:function(e,t){return e||t.color},tailColor:function(e,t){return e||t.color},strokeWidth:m,showHead:y,headSize:m,showTail:y,tailSize:m,path:y,curveness:m,gridBreak:function(e,t,n){return p((r=e,(a=s.xStr2absRelative(r))||(a={relative:.5,abs:0}),a),n);var r,a},gridRadius:m,relationType:function(e,t,n){return p(e,n)},dashness:function(e,t){return r=t,o=0,i=0,"object"==typeof(n=e)?(o=n.strokeLen||2*r.strokeWidth,i=n.strokeLen?n.nonStrokeLen:r.strokeWidth,a=n.animation?n.animation:null):"boolean"==typeof n&&n&&(o=2*r.strokeWidth,i=r.strokeWidth,a=null),{strokeLen:o,nonStrokeLen:i,animation:a,animDirection:1};var n,r,a,o,i},headShape:function(e){return h(e)},tailShape:function(e){return h(e)},showXarrow:v,animateDrawing:v,zIndex:function(e){return Number(e)},passProps:v,arrowBodyProps:y,arrowHeadProps:y,arrowTailProps:y,SVGcanvasProps:y,divContainerProps:y,divContainerStyle:y,SVGcanvasStyle:y,_extendSVGcanvas:y,_debug:y,_cpx1Offset:y,_cpy1Offset:y,_cpx2Offset:y,_cpy2Offset:y},g={};for(var x in b)g[x]=[x];for(var w=0,P=["lineColor","headColor","tailColor"];w<P.length;w++)g[x=P[w]].push("color");var _={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",gridRadius:8,relationType:"oh",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},S={};S=function(e,t){for(var n,r=0,a=Object.entries(e);r<a.length;r++){var o=a[r],i=o[0],l=o[1];t[i]=null===(n=null==b?void 0:b[i])||void 0===n?void 0:n.call(b,l,t)}return t}(_,S);var O={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function E(e){var t,n,r=u.useRef();return t=e,n=r.current,f.default.isEqual(t,n)||(r.current=e),r.current}function M(e,t){u.useLayoutEffect(e,t.map(E))}t.default=function(e,t){var n=u.useState(S),a=n[0],o=n[1],i=u.useRef(!1);a.shouldUpdatePosition=i;var l=r(r({},_),e),f=function(t){u.useLayoutEffect((function(){var e;a[t]=null===(e=null==b?void 0:b[t])||void 0===e?void 0:e.call(b,l[t],a,i),o(r({},a))}),g[t].map((function(t){return e[t]})))};for(var c in _)f(c);var d=u.useState(O),h=d[0],p=d[1],v=s.getElemPos(a.start);M((function(){h.startPos=v,i.current=!0,p(r({},h))}),[v]);var y=s.getElemPos(a.end);return M((function(){h.endPos=y,i.current=!0,p(r({},h))}),[y]),u.useLayoutEffect((function(){i.current=!0,p(r({},h))}),[a.headShape.svgElem,a.tailShape.svgElem]),[a,h]}},248:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=void 0;var a=n(957),o=n(790),i=r(n(804)),l=n(443),u=n(766);t.getPosition=function(e,t){var n,r,s,f,c=e[0],d=e[1],h=c.startAnchor,p=c.endAnchor,v=c.strokeWidth,y=c.showHead,m=c.headSize,b=c.showTail,g=c.tailSize,x=c.path,w=c.curveness,P=c.gridBreak,_=c.gridRadius,S=c.relationType,O=c.headShape,E=c.tailShape,M=c._extendSVGcanvas,j=c._cpx1Offset,L=c._cpy1Offset,C=c._cpx2Offset,R=c._cpy2Offset,k=d.startPos,A=d.endPos,T=t.current,D=T.svgRef,z=T.lineRef,N=0,B=0,F=a.calcAnchors(h,k),X=a.calcAnchors(p,A),H=o.getShortestLine(F,X),q=H.chosenStart,G=H.chosenEnd,V=q.anchor.position,W=G.anchor.position,I=i.default.pick(q,["x","y"]),U=i.default.pick(G,["x","y"]),Q=o.getSvgPos(D),J=Math.min(I.x,U.x)-Q.x,K=Math.min(I.y,U.y)-Q.y,Y=U.x-I.x,Z=U.y-I.y,$=Math.abs(U.x-I.x),ee=Math.abs(U.y-I.y),te=Y>0?1:-1,ne=Z>0?1:-1,re=[O.offsetForward,E.offsetForward],ae=re[0],oe=re[1],ie=m*v,le=g*v,ue=0,se=0,fe=0,ce=0,de=ie*ae,he=le*oe,pe=Number(w);_=Number(_),l.cPaths.includes(x)||(x="smooth"),"straight"===x&&(pe=0,x="smooth");var ve=v+v*(m>g?m:g)/2,ye=ve,me=ve,be=ve,ge=ve;me+=Number(M),ye+=Number(M),be+=Number(M),ge+=Number(M);var xe=0,we=$,Pe=0,_e=ee;if(Y<0&&(xe=(n=[we,xe])[0],we=n[1]),Z<0&&(Pe=(r=[_e,Pe])[0],_e=r[1]),0===pe){var Se=Math.atan(ee/$);y&&(we-=ie*(1-ae)*Math.cos(Se),_e-=ie*(1-ae)*ne*Math.sin(Se),Se*=ne,te<0&&(Se=(Math.PI-Se*te)*te),ue=Math.cos(Se)*de-Math.sin(Se)*ie/2,se=Math.cos(Se)*ie/2+Math.sin(Se)*de,N=180*Se/Math.PI);var Oe=Math.atan(ee/$);b&&(xe+=le*(1-oe)*te*Math.cos(Oe),Pe+=le*(1-oe)*ne*Math.sin(Oe),Oe*=-ne,te>0&&(Oe=(Math.PI-Oe*te)*te),fe=Math.cos(Oe)*he-Math.sin(Oe)*le/2,ce=Math.cos(Oe)*le/2+Math.sin(Oe)*he,B=180*Oe/Math.PI)}else"middle"===W&&(W=$>ee?te?"left":"right":ne?"top":"bottom"),y&&(["left","right"].includes(W)?(ue+=de*("oo"==S?-1:1),we-=ie*(1-ae)*("oo"==S?-1:1),se+=ie/2*("oo"==S?-1:1),"left"===W?(N=0,"oo"===S&&(N+=180)):(N=180,te>0&&"oo"!==S&&(N+=180))):["top","bottom"].includes(W)&&(ue+=ie*-ne/2,_e-=ie*ne-(se+=de*ne),"top"===W?(N=270,ne>0&&(N+=180)):(N=90,ne<0&&(N+=180))));b&&0!==pe&&(["left","right"].includes(V)?(xe+=le*te+(fe+=he*-te),ce+=-le*te/2,"left"===V?(B=180,te<0&&(B+=180)):(B=0,te>0&&(B+=180))):["top","bottom"].includes(V)&&(Pe+=le*ne+(ce+=he*-ne),fe+=le*ne/2,"top"===V?(B=90,ne>0&&(B+=180)):(B=270,ne<0&&(B+=180))));var Ee={x:ue,y:se},Me={x:fe,y:ce},je=xe,Le=Pe,Ce=we,Re=_e,ke={};"smooth"===x?ke={hh:function(){je+=$*pe*te,Ce-=$*pe*te},vv:function(){Le+=ee*pe*ne,Re-=ee*pe*ne},hv:function(){je+=$*pe*te,Re-=ee*pe*ne},vh:function(){Le+=ee*pe*ne,Ce-=$*pe*te}}:"grid"===x&&(ke={hh:function(){je+=($*P.relative+P.abs)*te,Ce-=($*(1-P.relative)-P.abs)*te,y&&(je-=ie*(1-ae)/2,Ce+=ie*(1-ae)/2),b&&(je-=le*(1-oe)/2*te,Ce+=le*(1-oe)/2*te)},vv:function(){Le+=(ee*P.relative+P.abs)*ne,Re-=(ee*(1-P.relative)-P.abs)*ne,y&&(Le-=ie*(1-ae)/2*ne,Re+=ie*(1-ae)/2*ne),b&&(Le-=le*(1-oe)/2*ne,Re+=le*(1-oe)/2*ne)},hv:function(){je=we},vh:function(){Le=_e}});var Ae="";["left","right"].includes(V)?Ae+="h":["bottom","top"].includes(V)?Ae+="v":"middle"===V&&(Ae+="m"),["left","right"].includes(W)?Ae+="h":["bottom","top"].includes(W)?Ae+="v":"middle"===W&&(Ae+="m"),ke[Ae=$>ee?Ae.replace(/m/g,"h"):Ae.replace(/m/g,"v")](),je+=j,Le+=L,Ce+=C,Re+=R;var Te=u.buzzierMinSols(xe,je,Ce,we),De=Te[0],ze=Te[1],Ne=u.buzzierMinSols(Pe,Le,Re,_e),Be=Ne[0],Fe=Ne[1];De<0&&(me+=-De),ze>$&&(ye+=ze-$),Be<0&&(be+=-Be),Fe>ee&&(ge+=Fe-ee),"grid"===x&&(me+=ve,ye+=ve,be+=ve,ge+=ve),xe+=me,we+=me,Pe+=be,_e+=be,je+=me,Ce+=me,Le+=be,Re+=be;var Xe=$+me+ye,He=ee+be+ge;J-=me,K-=be;var qe,Ge=u.bzFunction(xe,je,Ce,we),Ve=u.bzFunction(Pe,Le,Re,_e),We={x:Ge(.01),y:Ve(.01)},Ie={x:Ge(.5),y:Ve(.5)},Ue={x:Ge(.99),y:Ve(.99)};if("grid"===x)if(_){var Qe=Math.abs(Pe-_e),Je=Math.abs(xe-we);Qe<=4*_&&(_=Qe/4),qe="hh"===S?"M "+xe+" "+Pe+"\n                                  L "+(Math.min(xe,we)-_)+" "+Le+"\n                                  a"+_+","+_+" 0 0 "+(_e>Pe?"0":"1")+" "+-_+","+(_e<Pe?-_:_)+"\n                                  L "+(Math.min(xe,we)-2*_)+" "+(_e<Pe?Re+_:Re-_)+"\n                                  a"+_+","+_+" 0 0 "+(_e>Pe?"0":"1")+" "+_+","+(_e<Pe?-_:_)+"\n                                  L "+we+" "+_e:"oo"===S?"M "+xe+" "+Pe+"\n                                  L "+(Math.max(xe,we)+_)+" "+Le+"\n                                  a"+_+","+_+" 0 0 "+(_e>Pe?"1":"0")+" "+_+","+(_e<Pe?-_:_)+"\n                                  L "+(Math.max(xe,we)+2*_)+" "+(_e<Pe?Re+_:Re-_)+"\n                                  a"+_+","+_+" 0 0 "+(_e>Pe?"1":"0")+" "+-_+","+(_e<Pe?-_:_)+"\n                                  L "+we+" "+_e:Je<P.abs+2*_||Y<0?je>=xe?"M "+xe+" "+Pe+"\n                        L "+(je-_)+" "+Le+"\n                        a "+_+","+_+" 0 1 "+(_e>Pe?"1":"0")+" 0,"+2*(_e>Pe?_:-_)+"\n                        L "+(xe-_)+" "+(Le+2*(_e>Pe?_:-_))+"\n                        a "+_+","+_+" 0 0 "+(_e>Pe?"0":"1")+" "+-_+","+(_e>Pe?_:-_)+"\n                        L "+(xe-2*_)+" "+(_e>Pe?_e-_:_e+_)+"\n                        a "+_+","+_+" 0 0 "+(_e>Pe?"0":"1")+" "+_+","+(_e>Pe?_:-_)+"\n                        L "+we+" "+_e:"M "+xe+" "+Pe+"\n                        L "+xe+" "+Le+" \n                        a "+_+","+_+" 0 1 "+(_e>Pe?"1":"0")+" 0,"+2*(_e>Pe?_:-_)+" \n                        L "+(xe-Je)+" "+(Le+2*(_e>Pe?_:-_))+" \n                        a "+_+","+_+" 0 0 "+(_e>Pe?"0":"1")+" "+-_+","+(_e>Pe?_:-_)+" \n                        L "+(xe-Je-_)+" "+(_e>Pe?_e-_:_e+_)+" \n                        a "+_+","+_+" 0 0 "+(_e>Pe?"0":"1")+" "+_+","+(_e>Pe?_:-_)+"\n                        L "+we+" "+_e:"M "+xe+" "+Pe+" \n                              L "+(we>xe?je:je+_)+" "+Le+" \n                              a"+_+","+_+" 0 0 "+(_e<Pe&&we>xe||_e>Pe&&we<xe?"0":"1")+" "+(we>xe?_:-_)+","+(_e<Pe?-_:_)+"\n                              L "+(we>xe?Ce+_:Ce)+" "+(_e<Pe?Re+_:Re-_)+"\n                              a"+_+","+_+" 0 0 "+(_e<Pe&&we>xe||_e>Pe&&we<xe?"1":"0")+" "+(we>xe?_:-_)+","+(_e<Pe?-_:_)+"\n                              L "+we+" "+_e}else qe="M "+xe+" "+Pe+" L  "+je+" "+Le+" L "+Ce+" "+Re+" "+we+" "+_e;else"smooth"===x&&(qe="M "+xe+" "+Pe+" C "+je+" "+Le+", "+Ce+" "+Re+", "+we+" "+_e);return{cx0:J,cy0:K,x1:xe,x2:we,y1:Pe,y2:_e,cw:Xe,ch:He,cpx1:je,cpy1:Le,cpx2:Ce,cpy2:Re,dx:Y,dy:Z,absDx:$,absDy:ee,headOrient:N,tailOrient:B,labelStartPos:We,labelMiddlePos:Ie,labelEndPos:Ue,excLeft:me,excRight:ye,excUp:be,excDown:ge,headOffset:de,arrowHeadOffset:Ee,arrowTailOffset:Me,startPoints:F,endPoints:X,mainDivPos:Q,xSign:te,ySign:ne,lineLength:null!==(f=null===(s=z.current)||void 0===s?void 0:s.getTotalLength())&&void 0!==f?f:0,fHeadSize:ie,fTailSize:le,arrowPath:qe}}},790:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSvgPos=t.getElemPos=t.getShortestLine=t.xStr2absRelative=t.factorDpathStr=t.getElementByPropGiven=void 0,t.getElementByPropGiven=function(e){return"string"==typeof e?document.getElementById(e):null==e?void 0:e.current},t.factorDpathStr=function(e,t){var n=e.split(/(\d+(?:\.\d+)?)/);return(n=n.map((function(e){return Number(e)?(Number(e)*t).toString():e}))).join("")},t.xStr2absRelative=function(e){if("string"!=typeof e)return{abs:0,relative:.5};var t=e.split("%"),n=0,r=0;if(1==t.length){var a=parseFloat(t[0]);if(!isNaN(a))return{abs:n=a,relative:0}}else if(2==t.length){var o=[parseFloat(t[0]),parseFloat(t[1])],i=o[0],l=o[1];if(isNaN(i)||(r=i/100),isNaN(l)||(n=l),!isNaN(i)||!isNaN(l))return{abs:n,relative:r}}},t.getShortestLine=function(e,t){var n,r=1/0,a=1/0;return e.forEach((function(e){t.forEach((function(t){var o,i;o=e,i=t,(a=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)))<r&&(r=a,n={chosenStart:e,chosenEnd:t})}))})),n},t.getElemPos=function(e){if(!e)return{x:0,y:0,right:0,bottom:0};var t=e.getBoundingClientRect();return{x:t.left,y:t.top,right:t.right,bottom:t.bottom}},t.getSvgPos=function(e){if(!e.current)return{x:0,y:0};var t=e.current.getBoundingClientRect(),n=t.left,r=t.top,a=getComputedStyle(e.current);return{x:n-Number(a.left.slice(0,-2)),y:r-Number(a.top.slice(0,-2))}}},825:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.XarrowContext=t.XelemContext=void 0;var i=o(n(297));t.XelemContext=i.default.createContext(null),t.XarrowContext=i.default.createContext(null);var l={},u=0,s=(console.log,function(e){var n=e.children,r=e.instanceCount,a=i.useState({})[1],o=function(){return a({})};return i.useEffect((function(){r.current=u,l[r.current]=o}),[]),i.default.createElement(t.XarrowContext.Provider,{value:o},n)}),f=function(e){var n=e.children,r=e.instanceCount;return i.default.createElement(t.XelemContext.Provider,{value:l[r.current]},n)};t.default=function(e){var t=e.children,n=i.useRef(u),r=i.useState({})[1];return i.useEffect((function(){return u++,r({}),function(){delete l[n.current]}}),[]),i.default.createElement(f,{instanceCount:n},i.default.createElement(s,{instanceCount:n},t))}},443:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cArrowShapes=t.arrowShapes=t.cSvgElems=t.cPaths=t.cAnchorEdge=void 0;var a=r(n(297));t.cAnchorEdge=["middle","left","right","top","bottom","auto"],t.cPaths=["smooth","grid","straight"],t.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],t.arrowShapes={arrow1:{svgElem:a.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:a.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:a.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},t.cArrowShapes=Object.keys(t.arrowShapes)},379:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useXarrow=t.Xwrapper=t.default=void 0;var i=n(587);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(i).default}}),a(n(862),t),a(n(443),t);var l=n(825);Object.defineProperty(t,"Xwrapper",{enumerable:!0,get:function(){return o(l).default}});var u=n(449);Object.defineProperty(t,"useXarrow",{enumerable:!0,get:function(){return o(u).default}})},862:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},449:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(297),a=n(825);t.default=function(){var e=r.useState({})[1],t=r.useContext(a.XelemContext);return t||(t=function(){}),r.useLayoutEffect((function(){t()})),function(){return e({})}}},804:function(e){e.exports=t},229:function(e){e.exports=n},297:function(t){t.exports=e}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}return o.c=a,o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o(o.s=379)}()}));